# dataType



## 언어의 종류

프로그래밍 언어는, 자료형을 어떻게 취급하느냐에 따라 두 가지 종류로 나눌 수 있다. 

자바스크립트는 약한 데이터타입 체크 언어에 속한다. 

|                           | **강한 데이터타입 체크 언어** <br />(strongly typed language) | **약한 데이터타입 체크 언어**<br /> (weakly typed language)  |
| ------------------------- | ------------------------------------------------------------ | :----------------------------------------------------------- |
| 대표적인 언어             | Java, C...                                                   | JavaScript, PHP...                                           |
| 변수 타입이 결정되는 단계 | 컴파일 단계                                                  | 런타임 단계                                                  |
| 타입 표기                 | 변수 선언시에(컴파일 되기 전에) <br />타입을 명시해줘야 함.  | 타입을 명시하지 않음 - <br />자바스크립트의 경우 var(ES6: let, const)만 사용함. |
| 변수가 받아들이는 자료형  | 명시한 데이터타입과 일치해야 함                              | 어떤 데이터든 들어올 수 있음                                 |



## 1. 자료형은 크게 2종류

### 기본형(원시타입)

```js
var string = '문자열'; // '5'도 문자열임.
var number = 5;  	  // 숫자 (계산 가능)
var boolean = true;   // 참 or 거짓
var nullType = null;  // 비어 있음.
var undefined;        // 정의되지 않음
```

- 기본타입(5종) : string, number, boolean, null, undefined
- typeof 연산자를 사용해 자료형을 확인한다. 
- 복사하면 값 자체가 복사된다. 
  

### 참조형

```javascript
var func = function();
var array = [];
var rx = new RegExp();
```

- 참조타입-객체(3종) : Function, Array, RegExp

- instanceof 연산자를 사용해 참조형태를 확인한다. 

- 복사하면 힙주소가 복사된다. 




## 2. 객체란?

객체는 해쉬형태로 이루어진, 프로퍼티(key : value 형태)를 저장하는 컨테이너

```javascript
//apple object
var apple = {
	color : 'red',   //color property
  	taste : 'sweet'  //taste property
}
```



### 키 값 표기 규정

객체의 키값은 다음과 같이 표기해야만 한다. 

- 따옴표가 생략된 string형태(기본적으로 따옴표를 생략 가능하지만, 명기해줘도 무방함.)
- 단, 숫자가 먼저오는 혼합된 텍스트의 경우 반드시 따옴표를 써줘야 한다.  
  (순수한 숫자는 따옴표를 써주지 않아도 된다.)
- 키값은 중복이 되지만, 중복이 될 경우 나중에 선언된 키값의 밸류가 최종적인 객체의 키값과 밸류가 된다. 

```javascript
var red = 'yon';

var obj = {
    fruit : 'banana',
    'color' : red,
    16 : 'sixteen',
    '16' : 'sixteen',
    18 : this.fruit,
    true : 'abcd',
    '6x': 'eeee',
    5x : 'xxx' //error
}
```



## 3. 객체 만드는 법

1. #### Object()생성자 함수 이용

2. #### 객체 리터럴 방식

3. #### 생성자 함수 이용





## 4. 객체 다루기

#### 프로퍼티에 접근하기

```javascript
var sixTeen = 16;
var fruit = 16;
var various = 'fruit'
var obj = {
    fruit : 'banana',
    16 : 'sixteen'
}

/*대괄호 방식*/
console.log(obj['fruit']);  //banana 	--- (1)
console.log(obj['sixTeen']);//undefined --- (2)
console.log(obj['16']); 	//sixteen 	--- (3)
console.log(obj[16]); 		//sixteen 	--- (4)
console.log(obj[fruit]);    //sixteen 	--- (5)
console.log(obj[sixTeen]); 	//sixteen 	--- (6)
console.log(obj[various]); 	//banana 	--- (7)

/*점(.)방식*/
console.log(obj.sixTeen); 	//undefined
```

**조회 방식에는 대괄호를 사용한 조회와 '.'을 사용한 조회, 두가지 방식이 있다.** 

1. 대괄호로 조회시 : 
   1. string  :  (1), (2), (3)

      - 따옴표로 둘러싸여져 있는 경우 (string인 경우) : 
        해당 객체에서 key값을 그 따옴표 안의 내용 (텍스트로 조회한다.)
   2. 숫자 : (4)

      - 숫자는 변수명이 될 수 없다. 가능성은 두 가지다. 

        1. 하나는 동일한 키 값을 바로 찾는 로직일 수도 있고,
        2. 다른 하나는 toString()함수를 통해 숫자를 텍스트로 변환을 시도한 다음에 찾는 것일 수도 있다. 

         16 -> '16'
        하지만 (3)과 (4)의 결과가 동일한 것을 볼 때 대괄호안에 오는 것을 최종적으로는 string 형태로 변환시켜서 찾는다고 유추해볼 수 있다. 
        또한, (4)와 (5)처럼 따옴표가 없는 키값으로 바로 조회한다고 볼수 도 없는 게, (5)에서는 변수명으로 간주했기 때문이다.  

        숫자가 오면 스트링 형태로 변환한다. 
   3. 변수명 :  (5), (6) 

      - 따옴표가 없는 텍스트는 변수명을 뜻한다. 


      - 변수명이 올 경우 1차적으로 변수의 값을 괄호 속에 치환한다.
      - 다음에 가져온 값이 string이 아니라 숫자라면, 다시 toString을 변환해서 조회한다.

2. '.'을 통한 조회시 :  키 값 텍스트로만 조회 (따옴표 없음)

   1. '.' 표기법을 사용할 경우, 숫자나 따옴표는 올 수 없으며 오로지 <u>따옴표가 없는 텍스트만</u> 올 수 있다. 
      - 하지만 따옴표가 없다고 해서 이 텍스트가 변수명인 것은 아니며, 오로지 키값일 뿐이다. 


종합해보면, 

- 객체 안에 있는 데이터를 대괄호 방식으로 조회하려면  최종적으로 string 자료형을 사용해야 한다. 
- [ ] 안에 있는 데이터가 따옴표가 있는 string 리터럴일 경우 바로 키값을 조회한다.   ---(1)
- [ ] 안에 있는 데이터가 숫자일 경우 .toString()메서드를 사용해 형변환을 시도한다.  ---(4)
- [ ] 안에 있는 데이터가 변수명일 경우 일단 변수의 값을 가져온다. 가져온 변수명을 toString()으로 string 형태로 변환을 시도하고, 다시 그 값을 조회한다.  


- 키값이 숫자텍스트로 된 string일 경우, 프로퍼티에 접근하기 위해선 대괄호방식을 사용할 수 밖에 없다. 

  ​


#### 프로퍼티 수정 : 



#### 프로퍼티 삭제 : delete 연산자 이용



---



## 가비지 컬렉션

- 참조타입은 메모리의 주소가 복사된다. 아래의 코드에서 볼 수 있듯, b에는 a의 주소가 그대로 들어간다. 
-  동일한 주소를 바라보고 있으므로, b를 변화시키면 a도 변화한다. 

```javascript
var a = [1, 2, 3];
var b = a;
b.push(4);

console.log(a); // [1, 2, 3, 4]
console.log(b); // [1, 2, 3, 4]
```



- 하지만 이 경우에는 완전히 다르게 동작한다. b 가 참조할 주소가 없어지면, b는 가비지 콜렉터의 대상이 된다. 

```javascript
var a = [1, 2, 3];
var b = a;
b = null;

console.log(a); // [1, 2, 3]
console.log(b); // null
```



