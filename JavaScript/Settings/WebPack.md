



# WebPack



## 웹팩이란 무엇인가?

1. 우리가 (리액트 같은걸 사용해서) 프로젝트를 만들면 자바스크립트 파일이 여러 개가 생긴다. 그리고 이 자바스크립트 파일들은 여기서 불러서 저기서 다시 불러쓰고 하는 등의 복잡한 관계(의존성)를 갖는다. 

2. 그럼 이 프로젝트를 실제로 서비스할때 그냥 지저분하게 내보내느냐? 아니다. 자바스크립트 파일 여러개를 한개로 합쳐주기도 하고 하는 등, 요걸 컴팩트하게 묶어서 내주는 과정을 거칠 수 있는데, 이걸 번들링 Bundling 이라고 한다. 

3. 유명한 번들링 도구 중에 "웹팩"이라는 놈이 있다.  https://webpack.js.org/

   > 번들링도구  !== 웹팩 

   네이버가 인터넷 그 자체가 아닌 것처럼, 

   와콤이 타블렛 그 자체가 아닌 것처럼, 
   
   웹팩도 번들링도구 중의 하나이다. 
   
   

   #### 유명한 번들링 도구들
   
   - Jspm
   - Rollup.js
   - Parcel
   - Webpack
   - Browserify
   
   

## 웹팩은 어떻게 동작하는가?

#### 기능

- 주로 JavaScript파일을 번들링해주지만, HTML과 CSS 같은 애들도 처리해준다. 
- 린트, 코드 난독화, 빌드 및 배포 같은 기능도 지원해준다. 

#### 환경

- node.js : 노드를 기반으로 동작한다. 그래서 노드를 깔아야  한다. 



## 웹팩의 기본적인 사용법

```javascript
webpack <엔트리포인트 파일> <변환 완료된 후의 파일>
webpack main.js out.js
```

- 앱을 로드하는 진입지점을 엔트리 포인트라고 한다. 
- 일반 모듈은 엔트리포인트가 될 수 없다. 
- 일반적인 브라우저에서는, module을 import하는 구문을 사용할 수가 없다. webpack을 사용하면 import 하는 구문을 하나의 파일로 합쳐줘버린다. 



## webpack.config.js

- 위처럼 엔트리포인트 파일과 변환완료후의 파일을 일일이 적어 줘서 코드를 하나하나 변환하는 것은 번거롭기 때문에 config파일을 만들어서 사용한다. 
- 이 파일이름은 webpack.config.js 로 기본적으로 설정되어 있다. 
- vscode와 같은 에디터에서 webpack.config.js 와 같은 파일을 읽으면 일반js파일과는 다른 파일로 분류하고 아이콘을 표현해준다.  

```javascript
module.exports = {
    entry: './main.js',
    output: {
        filename: 'out.js'
    }
}
```

- 이렇게 해놓고 간단하게 명령창에서 webpack이라고만 명령어를 입력해주면 현재 실행폴더를 기준으로 webpack.config.js 파일을 찾아서 변환을 실행해준다. 



## webpack option

```bash
webpack -p --watch
```

- -p : 프로덕션 설정으로 웹팩을 실행한다 쓸데없는 것들이 제거된 컴팩트한 버전으로 변환된다. 
- --watch : 변경이 일어날때 마다 웹팩을 자동으로 실행한다. 