# Flow and Routine

메인플로우와 서브루틴은 상대적인 개념이다. 



## Routine & Return point

```javascript
A = ROUTINE(B) + ROUTINE(C) + ROUTINE(D)
```

- 자바스크립트의 모든 루틴은 리턴을 가진다.

- 서브루튼을 호출할 때는, 자신이 어디로 돌아올지를 알고 출발한다. 
- "+" 연산자는 메모리 생성 기능을한다. 하나의 루틴이 다시 돌아오기를 기다리는 이정표의 역할이 되기 때문이다.



## Funtion

코드의 구조적인 관점에서는 함수라고 부르고,

실행적인 관점에서는 루틴이라고 부른다. 



## ES6 function

- ES6 이후로, function 이라는 키워드가 등장하는 것은 잘못된 것으로 본다.
  - 이유 1. "this" 라는 키워드는 순수한 함수에서 필요없다.  (메소드에서만 쓴다. 클래스)
  - var 와 똑같다고 생각하면 된다.



## 함수 작성 Guide

함수 작성시에는, 되도록 값을 받아서 값을 반환하는 형식으로 작성하되,

참조값이라면 READONLY로 불러와서 복사본을 리턴한다. 



## Tail recursion

- 재귀에서는 꼬리물기 최적화를 사용할 수 없다. 
- 모든 연산자는 tail recursion 을 방해한다. (   = 모든 연산자는 스택메모리를 유발한다. )
- 내 지역메모리 대신에 다음함수의 인자메모리를 사용하도록 리턴값으로 넘겨버린다.
- 어떤 재귀함수를 꼬리함수 최적화로 바꾼다면, 기계적인 루프문으로 바꿀수 있다. 
- 꼬리함수 최적화가 된 재귀함수 <=> 기계적 루프문 은 항상 서로 변환이 가능하다.  자주일어나는 일이므로 훈련해야 한다.
  - 예) 하노이의 탑

