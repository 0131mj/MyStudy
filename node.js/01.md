# node.js

노드의 특징

- 이벤트 드리븐(기반)
- 논블로킹 기반
- 싱글스레드



## 이벤트 루프 

- 자바스크립트를 알려면 이벤트루프를 알아야 한다. 
- 이벤트 루프란, 자바스크립트 파일이 있을 때 어떤 순서로 실행이 되는가를 아는 것. 
- 이벤트루프를 움직이는 두가지 영역이 있다. 
  - 호출스택(콜스택) : 일반적으로 자바스크립트를 실행하면 A가 B를, B가 C를 호출했을때 C A B 순서로 실행된다. 
  - 태스크 큐 : 예를 들어 셋타임아웃을 걸어놓은 함수는 호출스택, 콜스택과 다른 방식으로 작동한다. 



태스크 큐에 들어가는 순간 : 

1. setTimeout
2. setInterval
3. setImmediate
4. Provide resolve,
5. rejection,
6. (async, await)
7. 이벤트리스너의 콜백



## 써버

- 써버는 사용자가 요청을 하면 응답을 해주는 장치 같은 거다. 
- 노드제이에스 기반에서 파일을 마구 넣어놓고 사용자가  들어오기를 기다리다가 누가 들어오면 그때 파일을 실행하구로 해야한다. 
- 이때 필요한건, 이 벤 트 리 스 너 !
- 파일을 실행할때 미리 적어놓고 돌린다. 



### 서버가 동작하는 방식

- 요청이란건, 주소를 치는 거다. 
- 사용자가 dns 같은걸로 주소에 땅 접속하면 TCP IP 막 이런게 나오면서 서버한테 가서 HTML을 받아온다. 그 후에 인터넷 브라우저에서 파싱을 해서 보여준다. 
- 이벤트리스너에는 콜백함수가 저장되어있다. 
- 호출 스택에 아무것도 없고, 태스크큐에 아무것도 없지만 이벤트리스너가 태스크큐로 요청을 전달한 다음에 실행이 가능하도록 하는 구조
- 이벤트리스너를 등록해놨기때문에 서버가 계속 돌아가도록 해놓은 구조, 이것이 이벤트 드리븐 방식이다. 
- 이벤트리스너 => 태스크큐 => 호출스택 



## 논블록킹 IO

- 논 블로킹 : 호출스택으로 요청을 보내는 것이 아니라 일단 태스크 큐에 쌓아버리는 방식. 호출순서와 실행순서가 다르면 논블로킹이라고 보면 된다.
- IO : input / output
  - 파일시스템 : 알아서 멀티쓰레드를 돌림
  - 네트워크



## 씽글스레드 

- 팔이 하나다. 
- 한번에 몇개나 일을 처리할수 있는가. 
- 멀티쓰레드를 안하는 이유?
  - 프로그래밍이 어렵다. 제어권 넘겨주고 뭐 이런문제들

